#!/usr/bin/env bash
#
# This file is autogenerated.  Do not edit
#
set -e

export SCRIPT_HOME=$( cd "$( dirname "$0" )" &> /dev/null && pwd )
cd $SCRIPT_HOME
export BASE_NAME=CASE_AttestationGate_thr_Impl
cd ${SCRIPT_HOME}/../../hamr/src/c/ext-c/${BASE_NAME}_Impl
cat ${BASE_NAME}_Impl_api.cml ${BASE_NAME}_Impl_client.cml ${BASE_NAME}_Impl_control.cml > ${SCRIPT_HOME}/../components/${BASE_NAME}/src/sb_${BASE_NAME}.cml
cake --heap_size=4 --stack_size=4 < ${SCRIPT_HOME}/../components/${BASE_NAME}/src/sb_${BASE_NAME}.cml > ${SCRIPT_HOME}/../components/${BASE_NAME}/src/sb_${BASE_NAME}.S
sed -i 's/cdecl(main)/cdecl(run)/' ${SCRIPT_HOME}/../components/${BASE_NAME}/src/sb_${BASE_NAME}.S
